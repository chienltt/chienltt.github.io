!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),s=r[0],c=r[1],a=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,c)),l=0,d=c>0?s-4:s;for(n=0;n<d;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],a[l++]=t>>16&255,a[l++]=t>>8&255,a[l++]=255&t;2===c&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,a[l++]=255&t);1===c&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,a[l++]=t>>8&255,a[l++]=255&t);return a},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],s=0,c=n-o;s<c;s+=16383)i.push(l(e,s,s+16383>c?c:s+16383));1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,a=s.length;c<a;++c)r[c]=s[c],o[s.charCodeAt(c)]=c;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var o,i,s=[],c=t;c<n;c+=3)o=(e[c]<<16&16711680)+(e[c+1]<<8&65280)+(255&e[c+2]),s.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t,n){(function(t,r){var o;
/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.10.1
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2023
 * @license MIT
 */!function(){"use strict";var i="input is invalid type",s="object"==typeof window,c=s?window:{};c.JS_SHA256_NO_WINDOW&&(s=!1);var a=!s&&"object"==typeof self,u=!c.JS_SHA256_NO_NODE_JS&&"object"==typeof t&&t.versions&&t.versions.node;u?c=r:a&&(c=self);var l=!c.JS_SHA256_NO_COMMON_JS&&"object"==typeof e&&e.exports,d=n(5),f=!c.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,h="0123456789abcdef".split(""),p=[-2147483648,8388608,32768,128],m=[24,16,8,0],g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],k=["hex","array","digest","arrayBuffer"],w=[];!c.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!f||!c.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var y=function(e,t){return function(n){return new A(t,!0).update(n)[e]()}},b=function(e){var t=y("hex",e);u&&(t=v(t,e)),t.create=function(){return new A(e)},t.update=function(e){return t.create().update(e)};for(var n=0;n<k.length;++n){var r=k[n];t[r]=y(r,e)}return t},v=function(e,t){var r,o=n(6),s=n(7).Buffer,a=t?"sha224":"sha256";r=s.from&&!c.JS_SHA256_NO_BUFFER_FROM?s.from:function(e){return new s(e)};return function(t){if("string"==typeof t)return o.createHash(a).update(t,"utf8").digest("hex");if(null==t)throw new Error(i);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===s?o.createHash(a).update(r(t)).digest("hex"):e(t)}},S=function(e,t){return function(n,r){return new U(n,t,!0).update(r)[e]()}},_=function(e){var t=S("hex",e);t.create=function(t){return new U(t,e)},t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<k.length;++n){var r=k[n];t[r]=S(r,e)}return t};function A(e,t){t?(w[0]=w[16]=w[1]=w[2]=w[3]=w[4]=w[5]=w[6]=w[7]=w[8]=w[9]=w[10]=w[11]=w[12]=w[13]=w[14]=w[15]=0,this.blocks=w):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function U(e,t,n){var r,o=typeof e;if("string"===o){var s,c=[],a=e.length,u=0;for(r=0;r<a;++r)(s=e.charCodeAt(r))<128?c[u++]=s:s<2048?(c[u++]=192|s>>6,c[u++]=128|63&s):s<55296||s>=57344?(c[u++]=224|s>>12,c[u++]=128|s>>6&63,c[u++]=128|63&s):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++r)),c[u++]=240|s>>18,c[u++]=128|s>>12&63,c[u++]=128|s>>6&63,c[u++]=128|63&s);e=c}else{if("object"!==o)throw new Error(i);if(null===e)throw new Error(i);if(f&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||f&&ArrayBuffer.isView(e)))throw new Error(i)}e.length>64&&(e=new A(t,!0).update(e).array());var l=[],d=[];for(r=0;r<64;++r){var h=e[r]||0;l[r]=92^h,d[r]=54^h}A.call(this,t,n),this.update(d),this.oKeyPad=l,this.inner=!0,this.sharedMemory=n}A.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(i);if(null===e)throw new Error(i);if(f&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||f&&ArrayBuffer.isView(e)))throw new Error(i);t=!0}for(var r,o,s=0,c=e.length,a=this.blocks;s<c;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)for(o=this.start;s<c&&o<64;++s)a[o>>2]|=e[s]<<m[3&o++];else for(o=this.start;s<c&&o<64;++s)(r=e.charCodeAt(s))<128?a[o>>2]|=r<<m[3&o++]:r<2048?(a[o>>2]|=(192|r>>6)<<m[3&o++],a[o>>2]|=(128|63&r)<<m[3&o++]):r<55296||r>=57344?(a[o>>2]|=(224|r>>12)<<m[3&o++],a[o>>2]|=(128|r>>6&63)<<m[3&o++],a[o>>2]|=(128|63&r)<<m[3&o++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++s)),a[o>>2]|=(240|r>>18)<<m[3&o++],a[o>>2]|=(128|r>>12&63)<<m[3&o++],a[o>>2]|=(128|r>>6&63)<<m[3&o++],a[o>>2]|=(128|63&r)<<m[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.block=a[16],this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},A.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=p[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},A.prototype.hash=function(){var e,t,n,r,o,i,s,c,a,u=this.h0,l=this.h1,d=this.h2,f=this.h3,h=this.h4,p=this.h5,m=this.h6,k=this.h7,w=this.blocks;for(e=16;e<64;++e)t=((o=w[e-15])>>>7|o<<25)^(o>>>18|o<<14)^o>>>3,n=((o=w[e-2])>>>17|o<<15)^(o>>>19|o<<13)^o>>>10,w[e]=w[e-16]+t+w[e-7]+n<<0;for(a=l&d,e=0;e<64;e+=4)this.first?(this.is224?(i=300032,k=(o=w[0]-1413257819)-150054599<<0,f=o+24177077<<0):(i=704751109,k=(o=w[0]-210244248)-1521486534<<0,f=o+143694565<<0),this.first=!1):(t=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),r=(i=u&l)^u&d^a,k=f+(o=k+(n=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&p^~h&m)+g[e]+w[e])<<0,f=o+(t+r)<<0),t=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),r=(s=f&u)^f&l^i,m=d+(o=m+(n=(k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7))+(k&h^~k&p)+g[e+1]+w[e+1])<<0,t=((d=o+(t+r)<<0)>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),r=(c=d&f)^d&u^s,p=l+(o=p+(n=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&k^~m&h)+g[e+2]+w[e+2])<<0,t=((l=o+(t+r)<<0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),r=(a=l&d)^l&f^c,h=u+(o=h+(n=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&m^~p&k)+g[e+3]+w[e+3])<<0,u=o+(t+r)<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+u<<0,this.h1=this.h1+l<<0,this.h2=this.h2+d<<0,this.h3=this.h3+f<<0,this.h4=this.h4+h<<0,this.h5=this.h5+p<<0,this.h6=this.h6+m<<0,this.h7=this.h7+k<<0},A.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,o=this.h4,i=this.h5,s=this.h6,c=this.h7,a=h[e>>28&15]+h[e>>24&15]+h[e>>20&15]+h[e>>16&15]+h[e>>12&15]+h[e>>8&15]+h[e>>4&15]+h[15&e]+h[t>>28&15]+h[t>>24&15]+h[t>>20&15]+h[t>>16&15]+h[t>>12&15]+h[t>>8&15]+h[t>>4&15]+h[15&t]+h[n>>28&15]+h[n>>24&15]+h[n>>20&15]+h[n>>16&15]+h[n>>12&15]+h[n>>8&15]+h[n>>4&15]+h[15&n]+h[r>>28&15]+h[r>>24&15]+h[r>>20&15]+h[r>>16&15]+h[r>>12&15]+h[r>>8&15]+h[r>>4&15]+h[15&r]+h[o>>28&15]+h[o>>24&15]+h[o>>20&15]+h[o>>16&15]+h[o>>12&15]+h[o>>8&15]+h[o>>4&15]+h[15&o]+h[i>>28&15]+h[i>>24&15]+h[i>>20&15]+h[i>>16&15]+h[i>>12&15]+h[i>>8&15]+h[i>>4&15]+h[15&i]+h[s>>28&15]+h[s>>24&15]+h[s>>20&15]+h[s>>16&15]+h[s>>12&15]+h[s>>8&15]+h[s>>4&15]+h[15&s];return this.is224||(a+=h[c>>28&15]+h[c>>24&15]+h[c>>20&15]+h[c>>16&15]+h[c>>12&15]+h[c>>8&15]+h[c>>4&15]+h[15&c]),a},A.prototype.toString=A.prototype.hex,A.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,o=this.h4,i=this.h5,s=this.h6,c=this.h7,a=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,o>>24&255,o>>16&255,o>>8&255,255&o,i>>24&255,i>>16&255,i>>8&255,255&i,s>>24&255,s>>16&255,s>>8&255,255&s];return this.is224||a.push(c>>24&255,c>>16&255,c>>8&255,255&c),a},A.prototype.array=A.prototype.digest,A.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},U.prototype=new A,U.prototype.finalize=function(){if(A.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();A.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),A.prototype.finalize.call(this)}};var T=b();T.sha256=T,T.sha224=b(!0),T.sha256.hmac=_(),T.sha224.hmac=_(!0),l?e.exports=T:(c.sha256=T.sha256,c.sha224=T.sha224,d&&(void 0===(o=function(){return T}.call(T,n,T,e))||(e.exports=o)))}()}).call(this,n(3),n(4))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return c}));var r=n(0),o=n.n(r),i=n(1),s=n.n(i);function c(e){let t,n,r=this,i=[],c={enable:!0,callbackList:[],interval:5},a=document.getElementsByTagName("script");for(let e=0;e<a.length;e++)-1===a[e].src.indexOf("keycloak.js")&&-1===a[e].src.indexOf("keycloak.min.js")||-1===a[e].src.indexOf("version=")||(r.iframeVersion=a[e].src.substring(a[e].src.indexOf("version=")+8).split("&")[0]);let u=!0,l=E(console.info),d=E(console.warn);function f(e,t){let n=function(e){let t,n=window.crypto||window.msCrypto;if(n&&n.getRandomValues&&window.Uint8Array)return t=new Uint8Array(e),n.getRandomValues(t),t;t=new Array(e);for(let e=0;e<t.length;e++)t[e]=Math.floor(256*Math.random());return t}(e),r=new Array(e);for(let o=0;o<e;o++)r[o]=t.charCodeAt(n[o]%t.length);return String.fromCharCode.apply(null,r)}function h(){return void 0!==r.authServerUrl?"/"===r.authServerUrl.charAt(r.authServerUrl.length-1)?r.authServerUrl+"realms/"+encodeURIComponent(r.realm):r.authServerUrl+"/realms/"+encodeURIComponent(r.realm):void 0}function p(e,t){let n=e.code,o=e.error,i=e.prompt,s=(new Date).getTime();if(e.kc_action_status&&r.onActionUpdate&&r.onActionUpdate(e.kc_action_status),o)if("none"!==i){let n={error:o,error_description:e.error_description};r.onAuthError&&r.onAuthError(n),t&&t.setError(n)}else t&&t.setSuccess();else if("standard"!==r.flow&&(e.access_token||e.id_token)&&c(e.access_token,null,e.id_token,!0),"implicit"!==r.flow&&n){let o="code="+n+"&grant_type=authorization_code",i=r.endpoints.token(),s=new XMLHttpRequest;s.open("POST",i,!0),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o+="&client_id="+encodeURIComponent(r.clientId),o+="&redirect_uri="+e.redirectUri,e.pkceCodeVerifier&&(o+="&code_verifier="+e.pkceCodeVerifier),s.withCredentials=!0,s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status){let e=JSON.parse(s.responseText);c(e.access_token,e.refresh_token,e.id_token,"standard"===r.flow),_()}else r.onAuthError&&r.onAuthError(),t&&t.setError()},s.send(o)}function c(n,o,i,c){s=(s+(new Date).getTime())/2,g(n,o,i,s),u&&(r.tokenParsed&&r.tokenParsed.nonce!==e.storedNonce||r.refreshTokenParsed&&r.refreshTokenParsed.nonce!==e.storedNonce||r.idTokenParsed&&r.idTokenParsed.nonce!==e.storedNonce)?(l("[KEYCLOAK] Invalid nonce, clearing token"),r.clearToken(),t&&t.setError()):c&&(r.onAuthSuccess&&r.onAuthSuccess(),t&&t.setSuccess())}}function m(e){return 0===e.status&&e.responseText&&e.responseURL.startsWith("file:")}function g(e,t,n,o){if(r.tokenTimeoutHandle&&(clearTimeout(r.tokenTimeoutHandle),r.tokenTimeoutHandle=null),t?(r.refreshToken=t,r.refreshTokenParsed=k(t)):(delete r.refreshToken,delete r.refreshTokenParsed),n?(r.idToken=n,r.idTokenParsed=k(n)):(delete r.idToken,delete r.idTokenParsed),e){if(r.token=e,r.tokenParsed=k(e),r.sessionId=r.tokenParsed.session_state,r.authenticated=!0,r.subject=r.tokenParsed.sub,r.realmAccess=r.tokenParsed.realm_access,r.resourceAccess=r.tokenParsed.resource_access,o&&(r.timeSkew=Math.floor(o/1e3)-r.tokenParsed.iat),null!=r.timeSkew&&r.onTokenExpired){let e=1e3*(r.tokenParsed.exp-(new Date).getTime()/1e3+r.timeSkew);e<=0?r.onTokenExpired():r.tokenTimeoutHandle=setTimeout(r.onTokenExpired,e)}}else delete r.token,delete r.tokenParsed,delete r.subject,delete r.realmAccess,delete r.resourceAccess,r.authenticated=!1}function k(e){switch((e=(e=(e=e.split(".")[1]).replace(/-/g,"+")).replace(/_/g,"/")).length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Invalid token"}return e=decodeURIComponent(escape(atob(e))),e=JSON.parse(e)}function w(){let e=f(36,"0123456789abcdef").split("");return e[14]="4",e[19]="0123456789abcdef".substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-",e.join("")}function y(e){let t=function(e){let t;switch(r.flow){case"standard":t=["code","state","session_state","kc_action_status"];break;case"implicit":t=["access_token","token_type","id_token","state","session_state","expires_in","kc_action_status"];break;case"hybrid":t=["access_token","token_type","id_token","code","state","session_state","expires_in","kc_action_status"]}t.push("error"),t.push("error_description"),t.push("error_uri");let n,o,i=e.indexOf("?"),s=e.indexOf("#");"query"===r.responseMode&&-1!==i?(n=e.substring(0,i),o=b(e.substring(i+1,-1!==s?s:e.length),t),""!==o.paramsString&&(n+="?"+o.paramsString),-1!==s&&(n+=e.substring(s))):"fragment"===r.responseMode&&-1!==s&&(n=e.substring(0,s),o=b(e.substring(s+1),t),""!==o.paramsString&&(n+="#"+o.paramsString));if(o&&o.oauthParams)if("standard"===r.flow||"hybrid"===r.flow){if((o.oauthParams.code||o.oauthParams.error)&&o.oauthParams.state)return o.oauthParams.newUrl=n,o.oauthParams}else if("implicit"===r.flow&&(o.oauthParams.access_token||o.oauthParams.error)&&o.oauthParams.state)return o.oauthParams.newUrl=n,o.oauthParams}(e);if(!t)return;let o=n.get(t.state);return o&&(t.valid=!0,t.redirectUri=o.redirectUri,t.storedNonce=o.nonce,t.prompt=o.prompt,t.pkceCodeVerifier=o.pkceCodeVerifier),t}function b(e,t){let n=e.split("&"),r={paramsString:"",oauthParams:{}};for(let e=0;e<n.length;e++){let o=n[e].indexOf("="),i=n[e].slice(0,o);-1!==t.indexOf(i)?r.oauthParams[i]=n[e].slice(o+1):(""!==r.paramsString&&(r.paramsString+="&"),r.paramsString+=n[e])}return r}function v(){let e={setSuccess:function(t){e.resolve(t)},setError:function(t){e.reject(t)}};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}function S(){let e=v();if(!c.enable)return e.setSuccess(),e.promise;if(c.iframe)return e.setSuccess(),e.promise;let t=document.createElement("iframe");c.iframe=t,t.onload=function(){let t=r.endpoints.authorize();"/"===t.charAt(0)?c.iframeOrigin=window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""):c.iframeOrigin=t.substring(0,t.indexOf("/",8)),e.setSuccess()};let n=r.endpoints.checkSessionIframe();t.setAttribute("src",n),t.setAttribute("sandbox","allow-scripts allow-same-origin"),t.setAttribute("title","keycloak-session-iframe"),t.style.display="none",document.body.appendChild(t);return window.addEventListener("message",(function(e){if(e.origin!==c.iframeOrigin||c.iframe.contentWindow!==e.source)return;if("unchanged"!==e.data&&"changed"!==e.data&&"error"!==e.data)return;"unchanged"!==e.data&&r.clearToken();let t=c.callbackList.splice(0,c.callbackList.length);for(let n=t.length-1;n>=0;--n){let r=t[n];"error"===e.data?r.setError():r.setSuccess("unchanged"===e.data)}}),!1),e.promise}function _(){c.enable&&r.token&&setTimeout((function(){A().then((function(e){e&&_()}))}),1e3*c.interval)}function A(){let e=v();if(c.iframe&&c.iframeOrigin){let t=r.clientId+" "+(r.sessionId?r.sessionId:"");c.callbackList.push(e);let n=c.iframeOrigin;1===c.callbackList.length&&c.iframe.contentWindow.postMessage(t,n)}else e.setSuccess();return e.promise}function U(){let e=v();if(c.enable||r.silentCheckSsoRedirectUri){let t=document.createElement("iframe");t.setAttribute("src",r.endpoints.thirdPartyCookiesIframe()),t.setAttribute("sandbox","allow-scripts allow-same-origin"),t.setAttribute("title","keycloak-3p-check-iframe"),t.style.display="none",document.body.appendChild(t);let n=function(o){t.contentWindow===o.source&&("supported"!==o.data&&"unsupported"!==o.data||("unsupported"===o.data&&(d("[KEYCLOAK] Your browser is blocking access to 3rd-party cookies, this means:\n\n - It is not possible to retrieve tokens without redirecting to the Keycloak server (a.k.a. no support for silent authentication).\n - It is not possible to automatically detect changes to the session status (such as the user logging out in another tab).\n\nFor more information see: https://www.keycloak.org/docs/latest/securing_apps/#_modern_browsers"),c.enable=!1,r.silentCheckSsoFallback&&(r.silentCheckSsoRedirectUri=!1)),document.body.removeChild(t),window.removeEventListener("message",n),e.setSuccess()))};window.addEventListener("message",n,!1)}else e.setSuccess();return function(e,t,n){let r=null,o=new Promise((function(e,o){r=setTimeout((function(){o({error:n||"Promise is not settled within timeout of "+t+"ms"})}),t)}));return Promise.race([e,o]).finally((function(){clearTimeout(r)}))}(e.promise,r.messageReceiveTimeout,"Timeout when waiting for 3rd party check iframe message.")}function T(e){if(!e||"default"===e)return{login:function(e){return window.location.assign(r.createLoginUrl(e)),v().promise},logout:function(e){return window.location.replace(r.createLogoutUrl(e)),v().promise},register:function(e){return window.location.assign(r.createRegisterUrl(e)),v().promise},accountManagement:function(){let e=r.createAccountUrl();if(void 0===e)throw"Not supported by the OIDC server";return window.location.href=e,v().promise},redirectUri:function(e,t){return e&&e.redirectUri?e.redirectUri:r.redirectUri?r.redirectUri:location.href}};if("cordova"===e){c.enable=!1;let e=function(e,t,n){return window.cordova&&window.cordova.InAppBrowser?window.cordova.InAppBrowser.open(e,t,n):window.open(e,t,n)},t=function(e){return e&&e.cordovaOptions?Object.keys(e.cordovaOptions).reduce((function(t,n){return t[n]=e.cordovaOptions[n],t}),{}):{}},n=function(e){return Object.keys(e).reduce((function(t,n){return t.push(n+"="+e[n]),t}),[]).join(",")},o=function(e){let r=t(e);return r.location="no",e&&"none"===e.prompt&&(r.hidden="yes"),n(r)},i=r.redirectUri||"http://localhost";return{login:function(t){let n=v(),s=o(t),c=r.createLoginUrl(t),a=e(c,"_blank",s),u=!1,l=!1,d=function(){l=!0,a.close()};return a.addEventListener("loadstart",(function(e){if(0===e.url.indexOf(i)){p(y(e.url),n),d(),u=!0}})),a.addEventListener("loaderror",(function(e){if(!u)if(0===e.url.indexOf(i)){p(y(e.url),n),d(),u=!0}else n.setError(),d()})),a.addEventListener("exit",(function(e){l||n.setError({reason:"closed_by_user"})})),n.promise},logout:function(t){let n,o=v(),s=r.createLogoutUrl(t),c=e(s,"_blank","location=no,hidden=yes,clearcache=yes");return c.addEventListener("loadstart",(function(e){0===e.url.indexOf(i)&&c.close()})),c.addEventListener("loaderror",(function(e){0===e.url.indexOf(i)||(n=!0),c.close()})),c.addEventListener("exit",(function(e){n?o.setError():(r.clearToken(),o.setSuccess())})),o.promise},register:function(t){let n=v(),s=r.createRegisterUrl(),c=o(t),a=e(s,"_blank",c);return a.addEventListener("loadstart",(function(e){if(0===e.url.indexOf(i)){a.close(),p(y(e.url),n)}})),n.promise},accountManagement:function(){let t=r.createAccountUrl();if(void 0===t)throw"Not supported by the OIDC server";{let n=e(t,"_blank","location=no");n.addEventListener("loadstart",(function(e){0===e.url.indexOf(i)&&n.close()}))}},redirectUri:function(e){return i}}}if("cordova-native"===e)return c.enable=!1,{login:function(e){let t=v(),n=r.createLoginUrl(e);return universalLinks.subscribe("keycloak",(function(e){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),p(y(e.url),t)})),window.cordova.plugins.browsertab.openUrl(n),t.promise},logout:function(e){let t=v(),n=r.createLogoutUrl(e);return universalLinks.subscribe("keycloak",(function(e){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),r.clearToken(),t.setSuccess()})),window.cordova.plugins.browsertab.openUrl(n),t.promise},register:function(e){let t=v(),n=r.createRegisterUrl(e);return universalLinks.subscribe("keycloak",(function(e){universalLinks.unsubscribe("keycloak"),window.cordova.plugins.browsertab.close(),p(y(e.url),t)})),window.cordova.plugins.browsertab.openUrl(n),t.promise},accountManagement:function(){let e=r.createAccountUrl();if(void 0===e)throw"Not supported by the OIDC server";window.cordova.plugins.browsertab.openUrl(e)},redirectUri:function(e){return e&&e.redirectUri?e.redirectUri:r.redirectUri?r.redirectUri:"http://localhost"}};throw"invalid adapter type: "+e}r.init=function(o){r.didInitialize=!0,r.authenticated=!1,n=function(){try{return new I}catch(e){}return new C}();if(t=o&&["default","cordova","cordova-native"].indexOf(o.adapter)>-1?T(o.adapter):o&&"object"==typeof o.adapter?o.adapter:window.Cordova||window.cordova?T("cordova"):T(),o){if(void 0!==o.useNonce&&(u=o.useNonce),void 0!==o.checkLoginIframe&&(c.enable=o.checkLoginIframe),o.checkLoginIframeInterval&&(c.interval=o.checkLoginIframeInterval),"login-required"===o.onLoad&&(r.loginRequired=!0),o.responseMode){if("query"!==o.responseMode&&"fragment"!==o.responseMode)throw"Invalid value for responseMode";r.responseMode=o.responseMode}if(o.flow){switch(o.flow){case"standard":r.responseType="code";break;case"implicit":r.responseType="id_token token";break;case"hybrid":r.responseType="code id_token token";break;default:throw"Invalid value for flow"}r.flow=o.flow}if(null!=o.timeSkew&&(r.timeSkew=o.timeSkew),o.redirectUri&&(r.redirectUri=o.redirectUri),o.silentCheckSsoRedirectUri&&(r.silentCheckSsoRedirectUri=o.silentCheckSsoRedirectUri),"boolean"==typeof o.silentCheckSsoFallback?r.silentCheckSsoFallback=o.silentCheckSsoFallback:r.silentCheckSsoFallback=!0,o.pkceMethod){if("S256"!==o.pkceMethod)throw"Invalid value for pkceMethod";r.pkceMethod=o.pkceMethod}"boolean"==typeof o.enableLogging?r.enableLogging=o.enableLogging:r.enableLogging=!1,"string"==typeof o.scope&&(r.scope=o.scope),"number"==typeof o.messageReceiveTimeout&&o.messageReceiveTimeout>0?r.messageReceiveTimeout=o.messageReceiveTimeout:r.messageReceiveTimeout=1e4}r.responseMode||(r.responseMode="fragment"),r.responseType||(r.responseType="code",r.flow="standard");let i=v(),s=v();s.promise.then((function(){r.onReady&&r.onReady(r.authenticated),i.setSuccess(r.authenticated)})).catch((function(e){i.setError(e)}));let a=function(t){let n,o=v();e?"string"==typeof e&&(n=e):n="keycloak.json";function i(e){r.endpoints=e?{authorize:function(){return e.authorization_endpoint},token:function(){return e.token_endpoint},logout:function(){if(!e.end_session_endpoint)throw"Not supported by the OIDC server";return e.end_session_endpoint},checkSessionIframe:function(){if(!e.check_session_iframe)throw"Not supported by the OIDC server";return e.check_session_iframe},register:function(){throw'Redirection to "Register user" page not supported in standard OIDC mode'},userinfo:function(){if(!e.userinfo_endpoint)throw"Not supported by the OIDC server";return e.userinfo_endpoint}}:{authorize:function(){return h()+"/protocol/openid-connect/auth"},token:function(){return h()+"/protocol/openid-connect/token"},logout:function(){return h()+"/protocol/openid-connect/logout"},checkSessionIframe:function(){let e=h()+"/protocol/openid-connect/login-status-iframe.html";return r.iframeVersion&&(e=e+"?version="+r.iframeVersion),e},thirdPartyCookiesIframe:function(){let e=h()+"/protocol/openid-connect/3p-cookies/step1.html";return r.iframeVersion&&(e=e+"?version="+r.iframeVersion),e},register:function(){return h()+"/protocol/openid-connect/registrations"},userinfo:function(){return h()+"/protocol/openid-connect/userinfo"}}}if(n){let e=new XMLHttpRequest;e.open("GET",n,!0),e.setRequestHeader("Accept","application/json"),e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status||m(e)){let t=JSON.parse(e.responseText);r.authServerUrl=t["auth-server-url"],r.realm=t.realm,r.clientId=t.resource,i(null),o.setSuccess()}else o.setError()},e.send()}else{if(!e.clientId)throw"clientId missing";r.clientId=e.clientId;let t=e.oidcProvider;if(t)if("string"==typeof t){let e;e="/"===t.charAt(t.length-1)?t+".well-known/openid-configuration":t+"/.well-known/openid-configuration";let n=new XMLHttpRequest;n.open("GET",e,!0),n.setRequestHeader("Accept","application/json"),n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status||m(n)){i(JSON.parse(n.responseText)),o.setSuccess()}else o.setError()},n.send()}else i(t),o.setSuccess();else{if(!e.url){let t=document.getElementsByTagName("script");for(let n=0;n<t.length;n++)if(t[n].src.match(/.*keycloak\.js/)){e.url=t[n].src.substr(0,t[n].src.indexOf("/js/keycloak.js"));break}}if(!e.realm)throw"realm missing";r.authServerUrl=e.url,r.realm=e.realm,i(null),o.setSuccess()}}return o.promise}();function l(){let e=function(e){e||(n.prompt="none"),o&&o.locale&&(n.locale=o.locale),r.login(n).then((function(){s.setSuccess()})).catch((function(e){s.setError(e)}))},t=function(){let e=document.createElement("iframe"),t=r.createLoginUrl({prompt:"none",redirectUri:r.silentCheckSsoRedirectUri});e.setAttribute("src",t),e.setAttribute("sandbox","allow-scripts allow-same-origin"),e.setAttribute("title","keycloak-silent-check-sso"),e.style.display="none",document.body.appendChild(e);let n=function(t){if(t.origin!==window.location.origin||e.contentWindow!==t.source)return;p(y(t.data),s),document.body.removeChild(e),window.removeEventListener("message",n)};window.addEventListener("message",n)},n={};switch(o.onLoad){case"check-sso":c.enable?S().then((function(){A().then((function(n){n?s.setSuccess():r.silentCheckSsoRedirectUri?t():e(!1)})).catch((function(e){s.setError(e)}))})):r.silentCheckSsoRedirectUri?t():e(!1);break;case"login-required":e(!0);break;default:throw"Invalid value for onLoad"}}function d(){let e=y(window.location.href);if(e&&window.history.replaceState(window.history.state,null,e.newUrl),e&&e.valid)return S().then((function(){p(e,s)})).catch((function(e){s.setError(e)}));o?o.token&&o.refreshToken?(g(o.token,o.refreshToken,o.idToken),c.enable?S().then((function(){A().then((function(e){e?(r.onAuthSuccess&&r.onAuthSuccess(),s.setSuccess(),_()):s.setSuccess()})).catch((function(e){s.setError(e)}))})):r.updateToken(-1).then((function(){r.onAuthSuccess&&r.onAuthSuccess(),s.setSuccess()})).catch((function(e){r.onAuthError&&r.onAuthError(),o.onLoad?l():s.setError(e)}))):o.onLoad?l():s.setSuccess():s.setSuccess()}return a.then((function(){(function(){let e=v(),t=function(){"interactive"!==document.readyState&&"complete"!==document.readyState||(document.removeEventListener("readystatechange",t),e.setSuccess())};return document.addEventListener("readystatechange",t),t(),e.promise})().then(U).then(d).catch((function(e){i.setError(e)}))})),a.catch((function(e){i.setError(e)})),i.promise},r.login=function(e){return t.login(e)},r.createLoginUrl=function(e){let i,c=w(),a=w(),l=t.redirectUri(e),d={state:c,nonce:a,redirectUri:encodeURIComponent(l)};e&&e.prompt&&(d.prompt=e.prompt),i=e&&"register"===e.action?r.endpoints.register():r.endpoints.authorize();let h=e&&e.scope||r.scope;h?-1===h.indexOf("openid")&&(h="openid "+h):h="openid";let p=i+"?client_id="+encodeURIComponent(r.clientId)+"&redirect_uri="+encodeURIComponent(l)+"&state="+encodeURIComponent(c)+"&response_mode="+encodeURIComponent(r.responseMode)+"&response_type="+encodeURIComponent(r.responseType)+"&scope="+encodeURIComponent(h);if(u&&(p=p+"&nonce="+encodeURIComponent(a)),e&&e.prompt&&(p+="&prompt="+encodeURIComponent(e.prompt)),e&&e.maxAge&&(p+="&max_age="+encodeURIComponent(e.maxAge)),e&&e.loginHint&&(p+="&login_hint="+encodeURIComponent(e.loginHint)),e&&e.idpHint&&(p+="&kc_idp_hint="+encodeURIComponent(e.idpHint)),e&&e.action&&"register"!==e.action&&(p+="&kc_action="+encodeURIComponent(e.action)),e&&e.locale&&(p+="&ui_locales="+encodeURIComponent(e.locale)),e&&e.acr){let t=function(e){let t={id_token:{acr:e}};return JSON.stringify(t)}(e.acr);p+="&claims="+encodeURIComponent(t)}if(r.pkceMethod){let e=f(96,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789");d.pkceCodeVerifier=e,p+="&code_challenge="+function(e,t){switch(e){case"S256":let e=new Uint8Array(s.a.arrayBuffer(t));return o.a.fromByteArray(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"");default:throw"Invalid value for pkceMethod"}}(r.pkceMethod,e),p+="&code_challenge_method="+r.pkceMethod}return n.add(d),p},r.logout=function(e){return t.logout(e)},r.createLogoutUrl=function(e){let n=r.endpoints.logout()+"?client_id="+encodeURIComponent(r.clientId)+"&post_logout_redirect_uri="+encodeURIComponent(t.redirectUri(e,!1));return r.idToken&&(n+="&id_token_hint="+encodeURIComponent(r.idToken)),n},r.register=function(e){return t.register(e)},r.createRegisterUrl=function(e){return e||(e={}),e.action="register",r.createLoginUrl(e)},r.createAccountUrl=function(e){let n=h(),o=void 0;return void 0!==n&&(o=n+"/account?referrer="+encodeURIComponent(r.clientId)+"&referrer_uri="+encodeURIComponent(t.redirectUri(e))),o},r.accountManagement=function(){return t.accountManagement()},r.hasRealmRole=function(e){let t=r.realmAccess;return!!t&&t.roles.indexOf(e)>=0},r.hasResourceRole=function(e,t){if(!r.resourceAccess)return!1;let n=r.resourceAccess[t||r.clientId];return!!n&&n.roles.indexOf(e)>=0},r.loadUserProfile=function(){let e=h()+"/account",t=new XMLHttpRequest;t.open("GET",e,!0),t.setRequestHeader("Accept","application/json"),t.setRequestHeader("Authorization","bearer "+r.token);let n=v();return t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(r.profile=JSON.parse(t.responseText),n.setSuccess(r.profile)):n.setError())},t.send(),n.promise},r.loadUserInfo=function(){let e=r.endpoints.userinfo(),t=new XMLHttpRequest;t.open("GET",e,!0),t.setRequestHeader("Accept","application/json"),t.setRequestHeader("Authorization","bearer "+r.token);let n=v();return t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(r.userInfo=JSON.parse(t.responseText),n.setSuccess(r.userInfo)):n.setError())},t.send(),n.promise},r.isTokenExpired=function(e){if(!r.tokenParsed||!r.refreshToken&&"implicit"!==r.flow)throw"Not authenticated";if(null==r.timeSkew)return!0;let t=r.tokenParsed.exp-Math.ceil((new Date).getTime()/1e3)+r.timeSkew;if(e){if(isNaN(e))throw"Invalid minValidity";t-=e}return t<0},r.updateToken=function(e){let t=v();if(!r.refreshToken)return t.setError(),t.promise;e=e||5;let n=function(){let n=!1;if(-1===e?n=!0:r.tokenParsed&&!r.isTokenExpired(e)||(n=!0),n){let e="grant_type=refresh_token&refresh_token="+r.refreshToken,n=r.endpoints.token();if(i.push(t),1===i.length){let t=new XMLHttpRequest;t.open("POST",n,!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.withCredentials=!0,e+="&client_id="+encodeURIComponent(r.clientId);let o=(new Date).getTime();t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){l("[KEYCLOAK] Token refreshed"),o=(o+(new Date).getTime())/2;let e=JSON.parse(t.responseText);g(e.access_token,e.refresh_token,e.id_token,o),r.onAuthRefreshSuccess&&r.onAuthRefreshSuccess();for(let e=i.pop();null!==e;e=i.pop())e.setSuccess(!0)}else{d("[KEYCLOAK] Failed to refresh token"),400===t.status&&r.clearToken(),r.onAuthRefreshError&&r.onAuthRefreshError();for(let e=i.pop();null!=e;e=i.pop())e.setError(!0)}},t.send(e)}}else t.setSuccess(!1)};if(c.enable){A().then((function(){n()})).catch((function(e){t.setError(e)}))}else n();return t.promise},r.clearToken=function(){r.token&&(g(null,null,null),r.onAuthLogout&&r.onAuthLogout(),r.loginRequired&&r.login())};let I=function(){if(!(this instanceof I))return new I;localStorage.setItem("kc-test","test"),localStorage.removeItem("kc-test");function e(){let e=(new Date).getTime();for(let t=0;t<localStorage.length;t++){let n=localStorage.key(t);if(n&&0===n.indexOf("kc-callback-")){let t=localStorage.getItem(n);if(t)try{let r=JSON.parse(t).expires;(!r||r<e)&&localStorage.removeItem(n)}catch(e){localStorage.removeItem(n)}}}}this.get=function(t){if(!t)return;let n="kc-callback-"+t,r=localStorage.getItem(n);return r&&(localStorage.removeItem(n),r=JSON.parse(r)),e(),r},this.add=function(t){e();let n="kc-callback-"+t.state;t.expires=(new Date).getTime()+36e5,localStorage.setItem(n,JSON.stringify(t))}},C=function(){if(!(this instanceof C))return new C;this.get=function(r){if(!r)return;let o=t("kc-callback-"+r);return n("kc-callback-"+r,"",e(-100)),o?JSON.parse(o):void 0},this.add=function(t){n("kc-callback-"+t.state,JSON.stringify(t),e(60))},this.removeItem=function(t){n(t,"",e(-100))};let e=function(e){let t=new Date;return t.setTime(t.getTime()+60*e*1e3),t},t=function(e){let t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let r=n[e];for(;" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return""},n=function(e,t,n){let r=e+"="+t+"; expires="+n.toUTCString()+"; ";document.cookie=r}};function E(e){return function(){r.enableLogging&&e.apply(console,Array.prototype.slice.call(arguments))}}}},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var a,u=[],l=!1,d=-1;function f(){l&&a&&(l=!1,a.length?u=a.concat(u):d=-1,u.length&&h())}function h(){if(!l){var e=c(f);l=!0;for(var t=u.length;t;){for(a=u,u=[];++d<t;)a&&a[d].run();d=-1,t=u.length}a=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new p(e,t)),1!==u.length||l||c(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t){},function(e,t){}]);